<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Machine Learning in JavaScript</title>
    <link rel="stylesheet" href="reveal.min.css"/>
    <link rel="stylesheet" href="simple.css"/>
    <link rel="stylesheet" href="pproject.css"/>
    <script src="highlight.js"></script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section id="intro">
           <h2>Passion Project</h2>
           <div>Heather Arthur</div>
           <div>@harthvader</div>
           <div>github/harthur</div>
        </section>
        <section id="mozilla">
          <img id="moz-logo" src="images/moz-firefox.png"></img>
        </section>
        <section id="devtools">
          <img src="images/tools-menu.png"></img>
          <img src="images/devtools.png"></img>
        </section>
        <section id="machine-learning">
          <h1 id="ml-title">Machine Learning</h1>
          <h3>in JavaScript</h3>
        </section>
        <section id="ml-dark" data-state="transition-slide">
          <h1>Machine Learning</h1>
          <img src="images/cylon.png"></img><img src="images/maths.jpg"></img>
        </section>
        <section id="ml-light" data-state="ml-fun">
          <h1>Machine Learning</h1>
        </section>
        <section id="ml-example">
          <h2>Applications of ML</h2>
          <ul>
            <li>spam filtering</li>
            <li>face detection</li>
            <li>recommendations</li>
            <li>character recognition</li>
          </ul>
        </section>
        <section id="ml-difference">
          <ul class="plain-list">
            <li class="group"><span class="bad">
              traditional computation</span>: hand-chosen conditionals and params</li>
            <li><span class="good">ML algorithms</span>: rules are
              <span class="chosen">learned</span> from data</li>
          </ul>
        </section>
        <section id="javascript">
          <h1>JavaScript</h1>
          <img src="images/top-langs.png"></img>
        </section>
        <section id="solve-problem" data-state="transition-slide">
          <h2>Let's solve a problem</h2>
        </section>
        <section id="the-problem">
          <h1>The Problem</h1>
          <h4>Should I bother?...</h4>
          <h3>Does it have cat pics?</h3>
          <h2 id="cat-q">
            <img id="cat-pics" src="images/cat-pics.png"></img>
            <span id="qs">???</span>
          </h2>
        </section>
        <section id="cat-detection" data-state="transition-slide">
          <h1>Cat Detection</h1>
          <img src="images/radar-cat.jpg"></img>
        </section>
        <section id="full-image">
          <h2>Breaking it down</h2>
          <div class="group">does this image contain a cat?</div>
          <img id="big-cat" src="images/big-cat.jpg"></img>
        </section>
        <section id="image-part">
          <h2>Breaking it down</h2>
          <div class="group">is this section a cat head?</div>
          <div id="section-pics">
            <img src="images/cat-head.jpg"></img>
            <img src="images/no-cat.jpg"></img>
          </div>
        </section>
        <section id="classifier">
          <h2>We need a <span class="good">classifier</span></h2>
          <ul>
            <li>Takes a piece of data, tells you which class it's in</li>
            <li>Trained with known classifications</li>
            <li>Bayesian (spam), k-nearest neighbors, neural networks,
                <span class="chosen">support vector machines</span></li>
        </section>
        <section id="svms">
          <h2>Support Vector Machines</h2>
          <ul>
            <li>trained with labelled data</li>
            <li>each piece of data is a vector (array) of numbers</li>
            <li>label/output is <code>1</code> if it's a cat,
              <code>-1</code> if not
            </li>
            <li>input is <code>[?,?,?,...]</code></li>
          </ul>
        </section>
        <section id="input">
          <h2>What's the input?</h2>
          <div class="group">Pixels
            <div class="head-images">
              <img src="images/cat1.jpg"></img>
              <img src="images/cat2.jpg"></img>
              <img src="images/cat3.jpg"></img>
              <img src="images/cat4.jpg"></img>
            </div>
            <div class="bad">too much information</div>
          </div>
          <div class="group">Edges
            <div class="head-images">
              <img src="images/cat1-mag.jpg"></img>
              <img src="images/cat2-mag.jpg"></img>
              <img src="images/cat3-mag.jpg"></img>
              <img src="images/cat4-mag.jpg"></img>
            </div>
            <div class="good">leaves shape information</div>
          </div>
        </section>
        <section id="hog">
          <h2>Histogram of Oriented Gradients</h2>
          <ul>
            <li>"HOG descriptor"</li>
            <li>captures strength + direction of edges</li>
            <li>Pixels -> array of #s (perfect!)</li>
            <li><code>48x48</code> canvas -> HOG of length <code>1176</code></li>
          </ul>
        </section>
        <section id="collection">
          <h1>Collection</h1>
          <ul>
            <li>negatives: 1000s of random non-cat image crops</li>
            <li>positives: 1000s of cat head crops</li>
            <ul>
              <li>
                <a href="http://137.189.35.203/WebUI/CatDatabase/catData.html">
                    cat dataset</a> with locations of ears, eyes, nose
              <li>rotate so eyes are level, crop to frame head</li>
            </ul>
            <li>resize to <code>48x48</code>
          </ul>
        </section>
        <section id="training">
          <h1>Training</h1>
          <pre><code class="javascript">var hog = require("hog-descriptor");
var svm = require("svm");

var SVM = new svm.SVM();

function train(pics) {
  var inputs = [], labels = [];

  for (var i in pics) {
    inputs[i] = hog.extractHOG(pics[i].canvas);
    labels[i] = pics[i].isCat ? 1 : -1;
  }

  SVM.train(inputs, labels);
}</code></pre>
        </section>
        <section id="state">
          <h2>What training does</h2>
          <h4><code>SVM.toJSON()</code></h4>
          <pre><code class="json">{
  "N": 200,
  "D": 1176,
  "b": -1.9007738283614,
  "kernelType": "linear",
  "w": [-0.039986109425303, -0.10320175974183, 0.047456416498616, -0.059351675560768, 0.058363533996746, -0.030757724103858, -0.077885096059827,-0.10909238884521, -0.027176815631789, 0.011213708955119,0.11097928973275, 0.02171080491539, 0.087237563435941, -0.011851994166769, -0.083436869138139,0.03666910365707, -0.04060984443935, 0.018076869381974, -0.030717675854092, -0.053448579335487
  ,...]
}</code></pre>
        </section>
        <section id="predicting">
          <h2>Is this section a cat head?</h2>
          <pre><code class="javascript">function isCat(canvas) {
  var descriptor = hog.extractHOG(canvas);

  var result = SVM.predictOne(descriptor);
  return result == 1;
}</pre></code>
        </section>
        <section id="windows">
          <h2>Does this image contain a cat?</h2>
          <ul>
            <li>Test "windows" at different scales, locations</li>
            <li>Combine overlapping detections</li>
            <li>Weed out spurious detections</li>
          </ul>
        </section>
        <section id="demo" data-state="transition-slide">
          <h1>Demo</h1>
          <a class="blendin demo-link"
            href="http://harthur.github.com/kittydar">harthur.github.com/kittydar
          </a>
        </section>
        <section id="ml-in-js">
          <h1>ML in JS</h1>
          <ul>
            <li>node.js - collection, training</li>
            <li>Typed arrays - 2x faster</li>
            <li>Web Workers - don't block page</li>
            <li>Still need: building blocks, more speed</li>
          </ul>
        </section>
        <section id="landscape">
          <h1>ML in JS</h1>
          <div class="group">
          <h4>Libraries:</h4>
          <ul>
            <a href="http://github.com/harthur/brain">neural networks</a>,
            <a href="http://github.com/karpathy/svmjs">support vector machines</a>,
            <a href="http://github.com/harthur/clusterfck">clustering</a>,
            <a href="http://github.com/harthur/classifier">bayesian</a>,
            <a href="https://github.com/NaturalNode/natural">natural language processing</a>
          </ul>
        </div>
        <div class="group">
          <h4>Applications:</h4>
            <a href="http://liuliu.me/ccv/js/nss/">real-time face detection</a>,
              <a href="https://github.com/mtschirs/js-objectdetect">
              hand and eye detection</a>,
            <a href="http://ejohn.org/blog/ocr-and-neural-nets-in-javascript/">
              OCR Captcha solving</a>
          </div>
        </section>
        <section id="ml-info">
          <h1>DIY</h1>
          <ul>
            <li>There's more</li>
            <li>Stanford Machine Learning (<span class="good">starts April 22</span>!)
              <a href="http://coursera.org/course/ml">coursera.org/course/ml</a>
            </li>
            <li>
              Starting with a problem and going from there
            </li>
          </ul>
        </section>
        <section id="the-end">
          <img id="robo-cat" src="images/robo-cat-sandra-honestly.jpg"></img>

          <footer class="img-src">image source: <a href="http://sandra-honestly.deviantart.com/">
            Sandra-honestly on deviantart<a></footer>
        </section>
      </div>
    </div>

    <script src="reveal.min.js"></script>
    <script>
    Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Display a presentation progress bar
        progress: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Vertical centering of slides
        center: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // Apply a 3D roll to links on hover
        rollingLinks: false,

        // Transition style
        transition: 'none' // default/cube/page/concave/zoom/linear/fade/none

    });
    </script>

    <!-- highlight.js -->
    <link rel="stylesheet" href="highlight-github.css">
    <script src="highlight.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>